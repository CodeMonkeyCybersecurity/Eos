#!/bin/bash

# Define the path to the scripts directory
SCRIPTS_DIR="/usr/local/bin/eos/scripts"

# Ensure a command is provided
if [ -z "$1" ]; then
    echo "Usage: eos <command>"
    echo "Available commands:"
    ls "$SCRIPTS_DIR" | sed 's/.sh$//'  # List available commands without ".sh"
    exit 1
fi

# Get the command and add .sh if it is missing
COMMAND="$1"
if [[ ! "$COMMAND" =~ \.sh$ ]]; then
    COMMAND="$COMMAND.sh"
fi

# Full path to the script
SCRIPT_PATH="$SCRIPTS_DIR/$COMMAND"

# Check if the script exists and is executable
if [ -x "$SCRIPT_PATH" ]; then
    # Execute the script and pass along any additional arguments
    "$SCRIPT_PATH" "${@:2}"
else
    echo "Error: Command '$1' not found or not executable."
    echo "Available commands:"
    ls "$SCRIPTS_DIR" | sed 's/.sh$//'  # List available commands without ".sh"
    exit 1
fi
